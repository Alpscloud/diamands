$(document).ready(function(){var e,s=$("body");s.width();$(window).on("scroll",function(){clearTimeout(e),s.hasClass("disable-hover")||s.addClass("disable-hover"),e=setTimeout(function(){s.removeClass("disable-hover")},200)});var t=$(".header").innerHeight();if($(".js-smooth-scroll-link").on("click",function(e){e.preventDefault();var s=$(this).attr("href"),o=$(s).offset().top-t-20;$("html, body").animate({scrollTop:o},300)}),$(".js-open-categories-popup-btn").on("click",function(e){e.preventDefault(),$(".js-popup-categories").fadeIn(300),$("html").addClass("is-fixed")}),$(".js-close-popup-btn").on("click",function(e){e.preventDefault(),$(this).parents(".js-popup").fadeOut(300),$("html").removeClass("is-fixed")}),$(".popup__overflow").on("click",function(e){e.stopPropagation();var s=$(this).find(".popup__body");s.is(e.target)||0!==s.has(e.target).length||($("html").removeClass("is-fixed"),$(".js-popup").fadeOut(300))}),$(".js-open-mobile-menu-btn").on("click",function(e){e.preventDefault(),$(this).toggleClass("is-active"),$(".js-nav").toggleClass("is-opened"),$("html").toggleClass("is-fixed")}),$(".js-toggle-footer-nav-btn").on("click",function(e){e.preventDefault(),$(this).toggleClass("is-active"),$(this).parents(".footer-col").find(".footer-nav").stop().slideToggle(250)}),$(".js-select").length>0&&($(".js-select").on("click",function(e){$(this).toggleClass("is-opened")}),$(".js-select").on("click","li",function(e){var s=$(this).attr("data-value");$(this).parents(".js-select").find("input").val(s).trigger("change")}),$(document).mouseup(function(e){var s=$(".js-select");0===s.has(e.target).length&&s.removeClass("is-opened")})),$(".js-products-slider").length>0)new Swiper(".js-products-slider",{slidesPerView:"auto",loop:!0,navigation:{nextEl:".js-products-slider-btn-next",prevEl:".js-products-slider-btn-prev"}});if($(".js-feedbacks-slider").length>0)new Swiper(".js-feedbacks-slider",{slidesPerView:1,loop:!0,navigation:{nextEl:".js-feedbacks-slider-btn-next",prevEl:".js-feedbacks-slider-btn-prev"},breakpoints:{992:{slidesPerView:"auto"},700:{slidesPerView:2}}});var o=$("input[type=file]");o.length>0&&o.each(function(){$(this).on("change",function(e){var s=$(this),t="",o=s[0].files.length;(t=s[0].files&&o>1?(s.attr("data-multiple-caption")||"").replace("{count}",o):e.target.value.split("\\").pop())&&(s.parents(".form-file").find(".form-file__result--text").html(t),s.parents(".form-file").addClass("is-attached"))})}),$("[data-fancybox").fancybox({loop:!0,buttons:["zoom","close"]}),$(".stone-type").length>0&&$(".stone-type").each(function(){$(this).find(".su-column:last-child").find("p:first-child").addClass("stone-type__title")}),$(".js-required-input").on("focus",function(){var e=$(this).parents(".form-group");e.hasClass("is-error")&&e.removeClass("is-error")});$("form").on("submit",function(e){e.preventDefault();var s=$(this);inputs=s.find(".js-required-input"),flag=!0;var t=s.parents(".form-wrapper"),o=new FormData(s.get(0));if($(inputs).each(function(){var e=$(this).parents(".form-group");$(this).val()&&""!=$(this).val()||(e.addClass("is-error"),flag=!1)}),!flag)return!1;$.ajax({contentType:!1,processData:!1,type:"POST",url:"/wp-content/themes/diamands-theme/sendmail.php",data:o}).done(function(){0==t.find(".js-form-success").length&&(t.append('<div class="form-success js-form-success"><button class="btn-close js-close-form-success-btn" type="button"><svg  viewBox="0 0 20 20"  xmlns="http://www.w3.org/2000/svg"><path d="M1.33398 18.6675L18.6679 1.33359"/><path d="M18.668 18.6675L1.33407 1.33359"/></svg></button><p class="form-success__title">Спасибо!</p><p>Мы рассмотрим вашу заявку и свяжемся с вами<br> в ближайшее время </p></div>'),setTimeout(function(){t.addClass("is-active")},100)),s.trigger("reset"),s.find(".form-file").removeClasss("is-attached")})}),$(".form-wrapper").on("click",".js-close-form-success-btn",function(e){e.preventDefault(),$(this).parents(".form-wrapper").removeClass("is-active"),$(this).parents(".form-wrapper").find(".form-file").removeClass("is-attached"),$(this).parents(".js-form-success").remove()}),$("input[type=tel]").inputmask({mask:"+380 (99) 999 99 99",clearIncomplete:!1})});